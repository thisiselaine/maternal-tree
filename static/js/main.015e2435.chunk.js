(this["webpackJsonpd3-chart"]=this["webpackJsonpd3-chart"]||[]).push([[0],{19:function(e,a,t){e.exports=t(28)},27:function(e,a,t){},28:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),o=t.n(l),i=t(14),c=t(11),d=t(12),s=t(5),m=t(16),u=t(15),h=t(45),p=t(46),g=t(44),f=t(13),v=t(6),E=t(32),k=t(33),b=t(34),y=t(35),P=t(36),N=t(37),w=t(38),O=t(39),x=t(40),S=t(41),j=t(42),I=t(43),M={name:"",children:[{name:"J A",id:1,gender:"Female",hasParnter:!0,imageUrl:"/avatar/gravator.jpg"},{name:"Mr. J A",id:2,partnerId:1,noParent:!0,children:[{name:"P A",id:3,gender:"Female",isSource:!0,hasParnter:!0},{name:"MK N A",id:5,partnerId:3,gender:"Male",noParent:!0,children:[{name:"B K",id:100,hasParnter:!0},{name:"D MM",id:102,partnerId:100,gender:"Female",noParent:!0,children:[{name:"D MM",gender:"Female"}]},{name:"MM D",id:102,partnerId:100,gender:"Female",noParent:!0,children:[{name:"B MM"}]},{name:"V PK",id:200,gender:"Female",hasParnter:!0,imageUrl:"/avatar/v-pk.jpeg"},{name:"EK T N",id:201,partnerId:200,noParent:!0,children:[{name:"S PK",gender:"Female"},{name:"Sku PK"},{name:"Sj PK"},{name:"Ska PK"}]},{name:"V K",id:300,hasParnter:!0,imageUrl:"/avatar/v-k.jpeg"},{name:"M PG",gender:"Female",id:301,partnerId:300,noParent:!0,children:[{name:"V K",id:3001,imageUrl:"/avatar/v-k-1.jpeg"},{name:"V KV"}]},{name:"R PK",id:400,hasParnter:!0},{name:"S VV",gender:"Female",id:401,partnerId:400,noParent:!0,children:[{name:"A R",gender:"Female"},{name:"C K"}]}]},{name:"Dummy",id:4,partnerId:3,gender:"Male",noParent:!0,imageUrl:"/avatar/dummy.png",children:[{name:"Sam"},{name:"Thomas"}]}]}]},C=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={layout:"cartesian",orientation:"horizontal",linkType:"diagonal",stepPercent:1,showOptions:!1,nodeId:null,nodeName:"",nodeImageUrl:"",treeData:{}},n.showNodeOptions=n.showNodeOptions.bind(Object(s.a)(n)),n.updateTree=n.updateTree.bind(Object(s.a)(n)),n.fetchNodeTree=n.fetchNodeTree.bind(Object(s.a)(n)),n}return Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({treeData:M})}},{key:"showNodeOptions",value:function(e){var a=this.state.showOptions,t=e.data&&e.data.imageUrl?e.data.imageUrl:"",n=e.data&&e.data.name?e.data.name:"",r=e.data&&e.data.id?e.data.id:"";this.setState({showOptions:!a,nodeImageUrl:t,nodeName:n,nodeId:r})}},{key:"fetchNodeTree",value:function(){var e=this,a=this.state,t=a.nodeId,n=a.showOptions;fetch("/json/".concat(t,".json")).then((function(e){return 200===e.status?e.json():{}})).then((function(a){e.setState({treeData:a,showOptions:!n},(function(){e.forceUpdate()}))})).catch((function(){alert("Invalid request!")}))}},{key:"updateTree",value:function(e){e.data.isExpanded=!e.data.isExpanded,this.forceUpdate()}},{key:"render",value:function(){var e,a,t,n,l=this,o=this.props,c=o.width,d=o.height,s=o.margin,m=void 0===s?{top:30,left:30,right:30,bottom:30}:s,u=[],M=this.state,C=M.treeData,F=M.layout,U=M.orientation,K=M.linkType,T=M.stepPercent,D=M.showOptions,A=M.nodeImageUrl,V=M.nodeName,W=c-m.left-m.right,z=d-m.top-m.bottom;return"polar"===F?(e={x:W/2,y:z/2},a=2*Math.PI,t=Math.min(W,z)/2):(e={x:0,y:0},"vertical"===U?(a=W,t=z,e.y-=t/10):(a=z,t=W,e.x-=t/10)),n="polar"===F?"step"===K?E.a:"curve"===K?k.a:"line"===K?b.a:y.a:"vertical"===U?"step"===K?P.a:"curve"===K?N.a:"line"===K?w.a:O.a:"step"===K?x.a:"curve"===K?S.a:"line"===K?j.a:I.a,r.a.createElement("div",null,r.a.createElement("div",{style:{color:"rgba(38, 150, 136, 1.000)",fontSize:10}},r.a.createElement("label",null,"layout:"),r.a.createElement("select",{onClick:function(e){return e.stopPropagation()},onChange:function(e){return l.setState({layout:e.target.value})},value:F},r.a.createElement("option",{value:"cartesian"},"cartesian"),r.a.createElement("option",{value:"polar"},"polar")),r.a.createElement("label",null,"orientation:"),r.a.createElement("select",{onClick:function(e){return e.stopPropagation()},onChange:function(e){return l.setState({orientation:e.target.value})},value:U,disabled:"polar"===F},r.a.createElement("option",{value:"vertical"},"vertical"),r.a.createElement("option",{value:"horizontal"},"horizontal")),r.a.createElement("label",null,"link:"),r.a.createElement("select",{onClick:function(e){return e.stopPropagation()},onChange:function(e){return l.setState({linkType:e.target.value})},value:K},r.a.createElement("option",{value:"diagonal"},"diagonal"),r.a.createElement("option",{value:"step"},"step"),r.a.createElement("option",{value:"curve"},"curve"),r.a.createElement("option",{value:"line"},"line")),r.a.createElement("label",null,"step:"),r.a.createElement("input",{onClick:function(e){return e.stopPropagation()},type:"range",min:0,max:1,step:.1,onChange:function(e){return l.setState({stepPercent:e.target.value})},value:T,disabled:"step"!==K||"polar"===F})),r.a.createElement("svg",{width:c,height:d},r.a.createElement(g.a,{id:"lgFemale",from:"#fd9b93",to:"#fe6e9e"}),r.a.createElement(g.a,{id:"lgMale",from:"#13ea58",to:"#059a35"}),r.a.createElement(g.a,{id:"lgSpouse",from:"#f3f3a7",to:"#ffff00"}),r.a.createElement("rect",{width:c,height:d,rx:0,fill:"#272b4d"}),r.a.createElement(h.a,{top:m.top,left:m.left},r.a.createElement(p.a,{root:Object(f.b)(C,(function(e){return e.isExpanded?null:e.children})),size:[a,t],separation:function(e,a){return(e.parent===a.parent?.5:.75)/e.depth}},(function(a){return r.a.createElement(h.a,{top:e.y,left:e.x},a.links().map((function(e,a){return e.target.data.hasParnter&&u.push(e.target),0===e.source.depth||!0===e.target.data.noParent?null:r.a.createElement(n,{data:e,percent:+T,stroke:"#374469",strokeWidth:"1",fill:"none",key:a})})),a.links().map((function(e,a){if("number"!==typeof e.target.data.partnerId)return null;var t=e.target.data.partnerId,l=u.filter((function(e){return e.data.id===t?e:null}));return e.source=l[0],void 0!==e.source?r.a.createElement(n,{data:e,percent:+T,stroke:"#374469",strokeWidth:"1",fill:"none",key:a}):null})),a.descendants().map((function(e,a){if(0===e.depth)return null;var t,n,o="Female"===e.data.gender,c=e.data.name||"",d=4*c.length;if("polar"===F){var s=Object(v.a)(e.x,e.y),m=Object(i.a)(s,2),u=m[0];t=m[1],n=u}else"vertical"===U?(t=e.y,n=e.x):(t=e.x,n=e.y);var p=e.data.isSource,g="image_"+a,f=e.data.imageUrl,E=void 0!==f&&""!==f;return r.a.createElement(h.a,{top:t,left:n,key:a,className:!0!==p?"node-group":"",onClick:function(){return!0!==p?l.showNodeOptions(e):void 0}},!0===E&&""!==f&&r.a.createElement("defs",null,r.a.createElement("pattern",{id:g,x:24,y:24,patternUnits:"userSpaceOnUse",height:48,width:48},r.a.createElement("image",{x:"0",y:"0",xlinkHref:f}))),r.a.createElement("circle",{r:24,fill:E?"url('#"+g+"')":p?o?"url('#lgFemale')":"url('#lgMale')":!0!==e.data.isPartner?"#272b4d":"url('#lgSpouse')",className:p?"":"node "+(o?"female":"male"),strokeWidth:1,strokeDasharray:e.data.children||e.data.hasParnter?"0":"2,2",strokeOpacity:1}),")}",r.a.createElement("rect",{y:3.3,x:-d,height:18,width:2*d,className:"node-text-bg",rx:"5"}),r.a.createElement("text",{dy:15,fontSize:9,fontFamily:"Arial",textAnchor:"middle",style:{pointerEvents:"none"},className:"node"},c))})))})))),!0===D&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"test",className:"modal is-active"},r.a.createElement("div",{className:"modal-background",onClick:this.showNodeOptions}),r.a.createElement("div",{className:"modal-card"},r.a.createElement("header",{className:"modal-card-head"},r.a.createElement("p",{className:"modal-card-title"},"What next?"),r.a.createElement("button",{className:"delete","aria-label":"close",onClick:this.showNodeOptions,title:"Close"})),r.a.createElement("section",{className:"modal-card-body"},r.a.createElement("div",{className:"content"},"Do you want to see the family tree of the member"," ",r.a.createElement("img",{src:A,width:48,height:48,alt:V})," ",r.a.createElement("b",null,V),"?")),r.a.createElement("footer",{className:"modal-card-foot"},r.a.createElement("button",{className:"button is-success is-pulled-right",onClick:this.fetchNodeTree},"Show Tree"),r.a.createElement("button",{className:"button is-pulled-right",onClick:this.showNodeOptions},"Cancel"))))))}}]),t}(r.a.Component);t(26),t(27),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=document.querySelector("#root");o.a.render(r.a.createElement(C,{width:F.offsetWidth,height:F.offsetHeight}),F),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.015e2435.chunk.js.map